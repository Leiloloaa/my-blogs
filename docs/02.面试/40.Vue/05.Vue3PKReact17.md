---
title: Vue3PKReact17
date: 2021-03-12 08:37:30
permalink: /pages/ccd631/
categories:
  - 面试
  - Vue
tags:
  - 
---

## Vue3.0 与 React17 的 diff 算法区别

- Vue3.0：最长递增子序列 + 双端预判
> 1,2,3,4 old 4,3,5,1 new diff： 移动4 移动1 删除2 新增5
> Vue3.0 采用的是响应式主动通知与虚拟 dom 被动计算；如何配合？根据组件划分，组件间通过响应式通知，组件内部，通过 vdom 计算 diff；
> Vue2.0 引入 vdom 使用的是 snabbdom 的代码，双端预判（先判断头 接着判定尾，减少循环次数）；
> Vue1.0 只是纯粹的响应式，在大的项目中，太多的响应式会导致页面的卡顿，响应时间超过 16.6 ms ( 1s 60 帧 1/60) 用户就能明显感受到；

- React17 只有虚拟 dom 的被动计算；实现了 fiber
> fiber 是时间切片
> 任务可以切开，利用空闲的时间计算
> diff可以中断
> 将树结构变成了链表形式 

- the-super-tiny-compiler 最小的编译器，不包括注释，代码只有200行

## vdom

> 用 js 的 object 来描述你的 dom 节点，跨端（优势，也有相应的不足）